# =============================================================================
# Ejemplo de configuración Traefik para reverse proxy
# =============================================================================
#
# Traefik es popular en entornos Kubernetes y Docker Swarm.
# Este ejemplo usa labels de Docker para configuración dinámica.
#
# Prerequisitos:
#   - Traefik corriendo como reverse proxy
#   - Red Docker compartida entre Traefik y esta app
#
# Uso con docker-compose.standalone.yml:
#   1. Agregar las labels al servicio web
#   2. Conectar a la red de Traefik
# =============================================================================

# Agregar estas labels al servicio 'web' en docker-compose.standalone.yml:
#
# services:
#   web:
#     labels:
#       - "traefik.enable=true"
#       - "traefik.http.routers.ssn-app.rule=Host(`tu-dominio.com`)"
#       - "traefik.http.routers.ssn-app.entrypoints=websecure"
#       - "traefik.http.routers.ssn-app.tls=true"
#       - "traefik.http.routers.ssn-app.tls.certresolver=letsencrypt"
#       - "traefik.http.services.ssn-app.loadbalancer.server.port=8000"
#       # Headers de seguridad
#       - "traefik.http.middlewares.ssn-headers.headers.stsSeconds=31536000"
#       - "traefik.http.middlewares.ssn-headers.headers.stsIncludeSubdomains=true"
#       - "traefik.http.middlewares.ssn-headers.headers.frameDeny=true"
#       - "traefik.http.middlewares.ssn-headers.headers.contentTypeNosniff=true"
#       - "traefik.http.routers.ssn-app.middlewares=ssn-headers"
#     networks:
#       - traefik_network
#       - app_network

# =============================================================================
# Configuración estática de Traefik (traefik.yml)
# =============================================================================
# Si preferís configuración estática en lugar de labels:

# http:
#   routers:
#     ssn-app:
#       rule: "Host(`tu-dominio.com`)"
#       service: ssn-app
#       entryPoints:
#         - websecure
#       tls:
#         certResolver: letsencrypt
#       middlewares:
#         - ssn-headers

#   services:
#     ssn-app:
#       loadBalancer:
#         servers:
#           - url: "http://ssn-web:8000"

#   middlewares:
#     ssn-headers:
#       headers:
#         stsSeconds: 31536000
#         stsIncludeSubdomains: true
#         frameDeny: true
#         contentTypeNosniff: true
#         customRequestHeaders:
#           X-Forwarded-Proto: "https"
