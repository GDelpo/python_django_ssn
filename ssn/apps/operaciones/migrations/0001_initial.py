# Generated by Django 5.1.7 on 2026-01-21 18:15

import django.core.validators
import django.db.models.deletion
import operaciones.models.base.operacion_base
import uuid
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='DetalleOperacionCanje',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('codigo_afectacion', models.CharField(help_text='Código de afectación', max_length=3)),
                ('tipo_especie', models.CharField(choices=[('TP', 'Títulos Públicos'), ('ON', 'Obligaciones Negociables'), ('FC', 'Fondos Comunes de Inversión'), ('FF', 'Fideicomisos Financieros'), ('AC', 'Acciones'), ('OP', 'Otras Inversiones')], help_text='Tipo de especie (TP, ON, FC, etc.)', max_length=2)),
                ('codigo_especie', models.CharField(help_text='Código SSN de la especie', max_length=20)),
                ('tipo_valuacion', models.CharField(choices=[('T', 'Técnico'), ('V', 'Mercado')], help_text='Tipo de valuación (T → Técnico | V → Mercado)', max_length=1)),
                ('cant_especies', models.DecimalField(decimal_places=6, help_text='Cantidad de especies (valor nominal)', max_digits=20)),
                ('comprobante', models.FileField(blank=True, help_text='Adjunta el comprobante (PDF, imagen, etc.)', null=True, upload_to=operaciones.models.base.operacion_base.comprobante_upload_path, validators=[operaciones.models.base.operacion_base.validate_comprobante_file])),
                ('fecha_pase_vt', models.DateField(help_text='Fecha de pase a venta (DDMMYYYY)')),
                ('precio_pase_vt', models.DecimalField(decimal_places=2, help_text='Precio de pase a venta', max_digits=6)),
            ],
            options={
                'verbose_name': 'Detalle de Canje',
                'verbose_name_plural': 'Detalles de Canje',
            },
        ),
        migrations.CreateModel(
            name='BaseRequestModel',
            fields=[
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('codigo_compania', models.CharField(help_text='Código identificador de la compañía (4 caracteres)', max_length=4, validators=[django.core.validators.MinLengthValidator(4)])),
                ('tipo_entrega', models.CharField(choices=[('Semanal', 'Semanal'), ('Mensual', 'Mensual')], help_text='Tipo de entrega (semanal o mensual)', max_length=10)),
                ('cronograma', models.CharField(help_text='Periodo del cronograma (YYYY-WW o YYYY-MM)', max_length=7, validators=[django.core.validators.MinLengthValidator(7)])),
                ('estado', models.CharField(choices=[('BORRADOR', 'Borrador'), ('CARGADO', 'Cargado (sin confirmar)'), ('PRESENTADO', 'Presentado'), ('RECTIFICACION_PENDIENTE', 'Rectificación Pendiente'), ('A_RECTIFICAR', 'Aprobado para Rectificar')], default='BORRADOR', help_text='Estado de la solicitud', max_length=32)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
                ('send_at', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Solicitud Base',
                'verbose_name_plural': 'Solicitudes Base',
                'db_table': 'db_solicitudes_base',
                'ordering': ['-created_at'],
                'constraints': [models.UniqueConstraint(fields=('tipo_entrega', 'cronograma'), name='unique_entrega_cronograma')],
            },
        ),
        migrations.CreateModel(
            name='ChequePagoDiferidoStock',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True, verbose_name='Fecha de Creación')),
                ('updated_at', models.DateTimeField(auto_now=True, null=True, verbose_name='Última Modificación')),
                ('codigo_afectacion', models.CharField(help_text='Código de afectación', max_length=3)),
                ('libre_disponibilidad', models.BooleanField(default=True, help_text='Libre disponibilidad (1: Sí, 0: No)')),
                ('en_custodia', models.BooleanField(default=True, help_text='Indicador en custodia (1: Sí, 0: No)')),
                ('financiera', models.BooleanField(default=True, help_text='Indicador financiera')),
                ('valor_contable', models.DecimalField(decimal_places=0, help_text='Valor contable', max_digits=14)),
                ('tipo', models.CharField(choices=[('I', 'Inversión'), ('P', 'Plazo Fijo'), ('C', 'Cheque Pago Diferido')], default='C', help_text='Tipo de stock (C=Cheque PD)', max_length=1)),
                ('moneda', models.CharField(help_text='Código de moneda', max_length=3)),
                ('tipo_tasa', models.CharField(choices=[('F', 'Fija'), ('V', 'Variable')], help_text='F si es Fija, V si es Variable', max_length=1)),
                ('tasa', models.DecimalField(decimal_places=3, help_text='Tasa aplicada', max_digits=5)),
                ('codigo_sgr', models.CharField(help_text='Código SGR', max_length=3)),
                ('codigo_cheque', models.CharField(help_text='Código del cheque', max_length=16)),
                ('fecha_emision', models.DateField(help_text='Fecha de emisión (DDMMYYYY)')),
                ('fecha_vencimiento', models.DateField(help_text='Fecha de vencimiento (DDMMYYYY)')),
                ('valor_nominal', models.DecimalField(decimal_places=0, help_text='Valor nominal del cheque', max_digits=10)),
                ('valor_adquisicion', models.DecimalField(decimal_places=0, help_text='Valor de adquisición del cheque', max_digits=10)),
                ('grupo_economico', models.BooleanField(default=False, help_text='Emisor pertenece a grupo económico (1: Sí, 0: No)')),
                ('fecha_adquisicion', models.DateField(help_text='Fecha de adquisición (DDMMYYYY)')),
                ('solicitud', models.ForeignKey(help_text='Solicitud mensual a la que pertenece este stock', on_delete=django.db.models.deletion.CASCADE, related_name='stocks_chequespd_mensuales', to='operaciones.baserequestmodel')),
            ],
            options={
                'verbose_name': 'Stock Cheque Pago Diferido Mensual',
                'verbose_name_plural': 'Stocks Cheque Pago Diferido Mensuales',
                'ordering': ['-solicitud', 'codigo_cheque'],
            },
        ),
        migrations.CreateModel(
            name='CompraOperacion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True, verbose_name='Fecha de Creación')),
                ('updated_at', models.DateTimeField(auto_now=True, null=True, verbose_name='Última Modificación')),
                ('codigo_afectacion', models.CharField(help_text='Código de afectación', max_length=3)),
                ('tipo_especie', models.CharField(choices=[('TP', 'Títulos Públicos'), ('ON', 'Obligaciones Negociables'), ('FC', 'Fondos Comunes de Inversión'), ('FF', 'Fideicomisos Financieros'), ('AC', 'Acciones'), ('OP', 'Otras Inversiones')], help_text='Tipo de especie (TP, ON, FC, etc.)', max_length=2)),
                ('codigo_especie', models.CharField(help_text='Código SSN de la especie', max_length=20)),
                ('tipo_valuacion', models.CharField(choices=[('T', 'Técnico'), ('V', 'Mercado')], help_text='Tipo de valuación (T → Técnico | V → Mercado)', max_length=1)),
                ('cant_especies', models.DecimalField(decimal_places=6, help_text='Cantidad de especies (valor nominal)', max_digits=20)),
                ('comprobante', models.FileField(blank=True, help_text='Adjunta el comprobante (PDF, imagen, etc.)', null=True, upload_to=operaciones.models.base.operacion_base.comprobante_upload_path, validators=[operaciones.models.base.operacion_base.validate_comprobante_file])),
                ('tipo_operacion', models.CharField(choices=[('C', 'Compra'), ('V', 'Venta'), ('J', 'Canje'), ('P', 'Plazo Fijo')], help_text='Tipo de operación a realizar', max_length=1)),
                ('fecha_movimiento', models.DateField(help_text='Fecha de movimiento (DDMMYYYY)')),
                ('fecha_liquidacion', models.DateField(help_text='Fecha de liquidación (DDMMYYYY)')),
                ('precio_compra', models.DecimalField(decimal_places=2, help_text='Precio de compra', max_digits=8)),
                ('solicitud', models.ForeignKey(blank=True, help_text='Solicitud a la que pertenece esta compra', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='compras', to='operaciones.baserequestmodel')),
            ],
            options={
                'verbose_name': 'Compra',
                'verbose_name_plural': 'Compras',
                'db_table': 'db_compras_operacion',
            },
        ),
        migrations.CreateModel(
            name='CanjeOperacion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True, verbose_name='Fecha de Creación')),
                ('updated_at', models.DateTimeField(auto_now=True, null=True, verbose_name='Última Modificación')),
                ('tipo_operacion', models.CharField(choices=[('C', 'Compra'), ('V', 'Venta'), ('J', 'Canje'), ('P', 'Plazo Fijo')], help_text='Tipo de operación a realizar', max_length=1)),
                ('fecha_movimiento', models.DateField(help_text='Fecha de movimiento (DDMMYYYY)')),
                ('fecha_liquidacion', models.DateField(help_text='Fecha de liquidación (DDMMYYYY)')),
                ('solicitud', models.ForeignKey(blank=True, help_text='Solicitud a la que pertenece este canje', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='canjes', to='operaciones.baserequestmodel')),
                ('detalle_a', models.OneToOneField(help_text='Datos de la operación A (entrega)', on_delete=django.db.models.deletion.CASCADE, related_name='canje_operacion_a', to='operaciones.detalleoperacioncanje')),
                ('detalle_b', models.OneToOneField(help_text='Datos de la operación B (recibe)', on_delete=django.db.models.deletion.CASCADE, related_name='canje_operacion_b', to='operaciones.detalleoperacioncanje')),
            ],
            options={
                'verbose_name': 'Canje',
                'verbose_name_plural': 'Canjes',
                'db_table': 'db_canjes_operacion',
            },
        ),
        migrations.CreateModel(
            name='InversionStock',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True, verbose_name='Fecha de Creación')),
                ('updated_at', models.DateTimeField(auto_now=True, null=True, verbose_name='Última Modificación')),
                ('codigo_afectacion', models.CharField(help_text='Código de afectación', max_length=3)),
                ('tipo_especie', models.CharField(choices=[('TP', 'Títulos Públicos'), ('ON', 'Obligaciones Negociables'), ('FC', 'Fondos Comunes de Inversión'), ('FF', 'Fideicomisos Financieros'), ('AC', 'Acciones'), ('OP', 'Otras Inversiones')], help_text='Tipo de especie (TP, ON, FC, etc.)', max_length=2)),
                ('codigo_especie', models.CharField(help_text='Código SSN de la especie', max_length=20)),
                ('tipo_valuacion', models.CharField(choices=[('T', 'Técnico'), ('V', 'Mercado')], help_text='Tipo de valuación (T → Técnico | V → Mercado)', max_length=1)),
                ('emisor_grupo_economico', models.BooleanField(default=False, help_text='Emisor pertenece a grupo económico (1: Sí, 0: No)')),
                ('libre_disponibilidad', models.BooleanField(default=True, help_text='Libre disponibilidad (1: Sí, 0: No)')),
                ('en_custodia', models.BooleanField(default=True, help_text='Indicador en custodia (1: Sí, 0: No)')),
                ('financiera', models.BooleanField(default=True, help_text='Indicador financiera')),
                ('valor_contable', models.DecimalField(decimal_places=0, help_text='Valor contable', max_digits=14)),
                ('tipo', models.CharField(choices=[('I', 'Inversión'), ('P', 'Plazo Fijo'), ('C', 'Cheque Pago Diferido')], default='I', help_text='Tipo de stock (I=Inversión)', max_length=1)),
                ('cantidad_devengado_especies', models.DecimalField(decimal_places=6, help_text='Cantidad devengada de especies', max_digits=20)),
                ('cantidad_percibido_especies', models.DecimalField(decimal_places=6, help_text='Cantidad percibida de especies', max_digits=20)),
                ('con_cotizacion', models.BooleanField(default=True, help_text='Indicador de cotización (1: Sí, 0: No)')),
                ('emisor_art_ret', models.BooleanField(default=False, help_text='Emisor ART/RET (1: Sí, 0: No)')),
                ('prevision_desvalorizacion', models.DecimalField(blank=True, decimal_places=0, help_text='Previsión desvalorización', max_digits=14, null=True)),
                ('fecha_pase_vt', models.DateField(blank=True, help_text='Fecha de pase a VT (DDMMYYYY)', null=True)),
                ('precio_pase_vt', models.DecimalField(blank=True, decimal_places=2, help_text='Precio de pase a VT', max_digits=8, null=True)),
                ('valor_financiero', models.DecimalField(blank=True, decimal_places=0, help_text='Valor financiero', max_digits=14, null=True)),
                ('solicitud', models.ForeignKey(help_text='Solicitud mensual a la que pertenece este stock', on_delete=django.db.models.deletion.CASCADE, related_name='stocks_inversion_mensuales', to='operaciones.baserequestmodel')),
            ],
            options={
                'verbose_name': 'Stock Inversión Mensual',
                'verbose_name_plural': 'Stocks Inversión Mensuales',
                'ordering': ['-solicitud', 'codigo_especie'],
            },
        ),
        migrations.CreateModel(
            name='PlazoFijoOperacion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True, verbose_name='Fecha de Creación')),
                ('updated_at', models.DateTimeField(auto_now=True, null=True, verbose_name='Última Modificación')),
                ('codigo_afectacion', models.CharField(help_text='Código de afectación', max_length=3)),
                ('comprobante', models.FileField(blank=True, help_text='Adjunta el comprobante (PDF, imagen, etc.)', null=True, upload_to=operaciones.models.base.operacion_base.comprobante_upload_path, validators=[operaciones.models.base.operacion_base.validate_comprobante_file])),
                ('tipo_pf', models.CharField(help_text='Código de Tipo de Depósito', max_length=3)),
                ('bic', models.CharField(help_text='Código BIC del banco', max_length=12)),
                ('cdf', models.CharField(help_text='Certificado del Depósito a Plazo', max_length=20)),
                ('fecha_constitucion', models.DateField(help_text='Fecha de constitución (DDMMYYYY)')),
                ('fecha_vencimiento', models.DateField(help_text='Fecha de vencimiento (DDMMYYYY)')),
                ('moneda', models.CharField(help_text='Código de moneda', max_length=3)),
                ('tipo_tasa', models.CharField(choices=[('F', 'Fija'), ('V', 'Variable')], help_text='F si es Fija, V si es Variable', max_length=1)),
                ('tasa', models.DecimalField(decimal_places=3, help_text='Tasa aplicada', max_digits=5)),
                ('titulo_deuda', models.BooleanField(default=False, help_text='Indica si está relacionado con un título de deuda pública')),
                ('codigo_titulo', models.CharField(blank=True, help_text='Código de título público', max_length=3, null=True)),
                ('valor_nominal_origen', models.DecimalField(blank=True, decimal_places=0, help_text='Valor nominal en moneda origen (vacío si es ARS)', max_digits=10, null=True)),
                ('valor_nominal_nacional', models.DecimalField(decimal_places=0, help_text='Valor nominal en Pesos Argentinos', max_digits=10)),
                ('tipo_operacion', models.CharField(choices=[('C', 'Compra'), ('V', 'Venta'), ('J', 'Canje'), ('P', 'Plazo Fijo')], help_text='Tipo de operación: Plazo Fijo', max_length=1)),
                ('solicitud', models.ForeignKey(blank=True, help_text='Solicitud a la que pertenece este plazo fijo', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='plazos_fijos', to='operaciones.baserequestmodel')),
            ],
            options={
                'verbose_name': 'Plazo Fijo (Operación)',
                'verbose_name_plural': 'Plazos Fijos (Operaciones)',
                'db_table': 'db_plazos_fijos_operacion',
            },
        ),
        migrations.CreateModel(
            name='PlazoFijoStock',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True, verbose_name='Fecha de Creación')),
                ('updated_at', models.DateTimeField(auto_now=True, null=True, verbose_name='Última Modificación')),
                ('codigo_afectacion', models.CharField(help_text='Código de afectación', max_length=3)),
                ('tipo_pf', models.CharField(help_text='Código de Tipo de Depósito', max_length=3)),
                ('bic', models.CharField(help_text='Código BIC del banco', max_length=12)),
                ('cdf', models.CharField(help_text='Certificado del Depósito a Plazo', max_length=20)),
                ('fecha_constitucion', models.DateField(help_text='Fecha de constitución (DDMMYYYY)')),
                ('fecha_vencimiento', models.DateField(help_text='Fecha de vencimiento (DDMMYYYY)')),
                ('moneda', models.CharField(help_text='Código de moneda', max_length=3)),
                ('tipo_tasa', models.CharField(choices=[('F', 'Fija'), ('V', 'Variable')], help_text='F si es Fija, V si es Variable', max_length=1)),
                ('tasa', models.DecimalField(decimal_places=3, help_text='Tasa aplicada', max_digits=5)),
                ('titulo_deuda', models.BooleanField(default=False, help_text='Indica si está relacionado con un título de deuda pública')),
                ('codigo_titulo', models.CharField(blank=True, help_text='Código de título público', max_length=3, null=True)),
                ('valor_nominal_origen', models.DecimalField(blank=True, decimal_places=0, help_text='Valor nominal en moneda origen (vacío si es ARS)', max_digits=10, null=True)),
                ('valor_nominal_nacional', models.DecimalField(decimal_places=0, help_text='Valor nominal en Pesos Argentinos', max_digits=10)),
                ('emisor_grupo_economico', models.BooleanField(default=False, help_text='Emisor pertenece a grupo económico (1: Sí, 0: No)')),
                ('libre_disponibilidad', models.BooleanField(default=True, help_text='Libre disponibilidad (1: Sí, 0: No)')),
                ('en_custodia', models.BooleanField(default=True, help_text='Indicador en custodia (1: Sí, 0: No)')),
                ('financiera', models.BooleanField(default=True, help_text='Indicador financiera')),
                ('valor_contable', models.DecimalField(decimal_places=0, help_text='Valor contable', max_digits=14)),
                ('tipo', models.CharField(choices=[('I', 'Inversión'), ('P', 'Plazo Fijo'), ('C', 'Cheque Pago Diferido')], default='P', help_text='Tipo de stock (P=Plazo Fijo)', max_length=1)),
                ('solicitud', models.ForeignKey(help_text='Solicitud mensual a la que pertenece este stock', on_delete=django.db.models.deletion.CASCADE, related_name='stocks_plazofijo_mensuales', to='operaciones.baserequestmodel')),
            ],
            options={
                'verbose_name': 'Stock Plazo Fijo Mensual',
                'verbose_name_plural': 'Stocks Plazo Fijo Mensuales',
                'ordering': ['-solicitud', 'bic'],
            },
        ),
        migrations.CreateModel(
            name='VentaOperacion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True, verbose_name='Fecha de Creación')),
                ('updated_at', models.DateTimeField(auto_now=True, null=True, verbose_name='Última Modificación')),
                ('codigo_afectacion', models.CharField(help_text='Código de afectación', max_length=3)),
                ('tipo_especie', models.CharField(choices=[('TP', 'Títulos Públicos'), ('ON', 'Obligaciones Negociables'), ('FC', 'Fondos Comunes de Inversión'), ('FF', 'Fideicomisos Financieros'), ('AC', 'Acciones'), ('OP', 'Otras Inversiones')], help_text='Tipo de especie (TP, ON, FC, etc.)', max_length=2)),
                ('codigo_especie', models.CharField(help_text='Código SSN de la especie', max_length=20)),
                ('tipo_valuacion', models.CharField(choices=[('T', 'Técnico'), ('V', 'Mercado')], help_text='Tipo de valuación (T → Técnico | V → Mercado)', max_length=1)),
                ('cant_especies', models.DecimalField(decimal_places=6, help_text='Cantidad de especies (valor nominal)', max_digits=20)),
                ('comprobante', models.FileField(blank=True, help_text='Adjunta el comprobante (PDF, imagen, etc.)', null=True, upload_to=operaciones.models.base.operacion_base.comprobante_upload_path, validators=[operaciones.models.base.operacion_base.validate_comprobante_file])),
                ('tipo_operacion', models.CharField(choices=[('C', 'Compra'), ('V', 'Venta'), ('J', 'Canje'), ('P', 'Plazo Fijo')], help_text='Tipo de operación a realizar', max_length=1)),
                ('fecha_movimiento', models.DateField(help_text='Fecha de movimiento (DDMMYYYY)')),
                ('fecha_liquidacion', models.DateField(help_text='Fecha de liquidación (DDMMYYYY)')),
                ('fecha_pase_vt', models.DateField(blank=True, help_text='Fecha de pase a Valor Técnico (DDMMYYYY). Solo para TP y ON contabilizados a valor técnico', null=True)),
                ('precio_pase_vt', models.DecimalField(blank=True, decimal_places=2, help_text='Precio de pase a Valor Técnico. Solo para TP y ON contabilizados a valor técnico', max_digits=6, null=True)),
                ('precio_venta', models.DecimalField(decimal_places=2, help_text='Precio de venta', max_digits=6)),
                ('solicitud', models.ForeignKey(blank=True, help_text='Solicitud a la que pertenece esta venta', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='ventas', to='operaciones.baserequestmodel')),
            ],
            options={
                'verbose_name': 'Venta',
                'verbose_name_plural': 'Ventas',
                'db_table': 'db_ventas_operacion',
            },
        ),
    ]
